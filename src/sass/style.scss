@import "mixins";
@import "var";
@import "grid";
// @import "grid-full";



.m-message {
  display: flex;
  margin-bottom: rem(20);

  &__avatar {
    flex: 1 0 auto;
    order: 0;
    margin-right: rem(23); 
  }

  &__content {
    min-width: 47.14vw; 
    box-sizing: border-box;
    position: relative;
    background-color: $white;
    border-radius: rem(3);
    box-shadow: 0 rem(1) rem(1) $gray-80; 
  }

  &__content::after {
    left: rem(-10);
    content: ""; 
    position: absolute; 
    top: 0; 
    border: rem(10) solid transparent;
    border-top: rem(10) solid $white;
  }

  &__content::before {
    left: rem(-13);
  }

  &__content-header {
    display: flex;
    box-sizing: border-box; 
    justify-content: space-between;
    align-items: center;
    height: rem(29);
    padding: 0 rem(10) 0 rem(10);
    font-size: rem(12); 
    color: $gray-50;
    border-bottom: rem(1) solid $gray-80;
  }

  &__editer {
    display: inline-block;

    li {
      content: "";
      margin-left: rem(10);
      cursor: pointer;
    }
  }

  &__edit {
    display: none;
    width: rem(11);
    height: rem(11);
    background: url(../img/edit.png);
  }

  &__delete {
    display: none;
    width: rem(9);
    height: rem(11);
    background: url(../img/del.png);
  }

  &__pin {
    display: inline-block;
    width: rem(13);
    height: rem(12);
    background: url(../img/holder-off.png);
  }

}

.m-message--you {

  .m-message__avatar {
    order: 1;
    margin-left: rem(23);
    margin-right: initial;
  }

  .m-message__content::after {
    border-left: rem(10) solid $white;
    right: rem(-10); 
    left: initial;
  }

  .m-message__content::before {
    right: rem(-13);
    left: initial;
  }

  .m-message__editer {

    li {
      display: inline-block;
    }
  }

}

.snippet {

  .m-message__content-header {
    border-top: rem(3) solid $blue;
    background-color: rgba($blue-light, .1);
  }

  .m-message__content::after {
    top: rem(3);
    border-top: rem(10) solid #EFFDFE; 
  }

  .m-message__content::before {
    content: ""; 
    position: absolute; 
    top: 0; 
    border: rem(10) solid transparent;
    border-top: rem(9) solid $blue; 
  }

} 

.pinned {

  .m-message__content-header {
    border-top: rem(3) solid $red;
  }

  .m-message__content::after {
    top: rem(3);
    border-top: rem(10) solid $white;  
  } 

  .m-message__content::before {
    content: ""; 
    position: absolute; 
    top: 0; 
    border: rem(10) solid transparent;
    border-top: rem(9) solid $red;
  }

  .m-message__pin {
    background: url(../img/holder-on.png);
  }

}

.m-message__content-body {
  position: relative;
  padding-bottom: rem(10);
  display: flex;
  flex-direction: column;
  line-height: 1.2;
}

.m-content__text {
  padding: rem(10);
  font-size: rem(14);
}

.m-content__snippet {
  max-height: 29vh;
  overflow: auto;
  border-left: rem(3) solid $blue-light;
  background-color: rgba($blue-light, .1); 

  &::-webkit-scrollbar-track
  {
    -webkit-box-shadow: inset 0 0 rem(5) $white;
    background-color: $gray-97;
  }

  &::-webkit-scrollbar
  {
    width: rem(10);
    background-color: $gray-60;
  }

  &::-webkit-scrollbar-thumb
  {
    background-color: $blue;
    border-radius: rem(10);
  }

  pre {
    padding: rem(10);
    
  }
}

.m-message__sender, .m-message__time, .m-message__seen-number {
  font-size: rem(12);
  color: $gray-25; 
}

.m-message__status {

  li {
    display: inline-block;
    text-align: center;
    position: relative;
    content: "";
  }

  a {
    display: inline-block;
    height: rem(15);
    width: rem(30); 
    line-height: rem(15);
  }

  .m-status__plus {
    background: url(../img/plus.png) center no-repeat;
  }

  .m-status__equals {
    background: url(../img/eq.png) center no-repeat;
  }

  .m-status__minus {
    background: url(../img/minus.png) center no-repeat;
  }

}

.m-status__plus--enabled::before {
  // @extend .m-status__plus;
  position: absolute;
  display: inline-block;
  content: "";
  top: rem(-20); 
  left: 25%;
  width: rem(15);
  height: rem(18);
  background: url(../img/plus-a.png);
}

.m-status__equals--enabled::before {
  // @extend .m-status__equals;
  position: absolute;
  top: rem(-20); 
  left: 25%; 
  width: rem(15);
  height: rem(18);
  background: url(../img/eq-a.png);
}

.m-status__minus--enabled::before {
  // @extend .m-status__minus;
  position: absolute;
  top: rem(-20); 
  left: 25%;
  width: rem(15);
  height: rem(18);
  background: url(../img/minus-a.png);
}
